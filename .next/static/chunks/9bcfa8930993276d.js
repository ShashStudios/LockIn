(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,t,s)=>{t.exports=e.r(76562)},3053,e=>{"use strict";let t="lockin_active_session",s="lockin_history",n="lockin_preferences";function r(e){try{return localStorage.getItem(e)}catch{return null}}function i(e,t){try{localStorage.setItem(e,t)}catch{console.warn("Failed to write to localStorage")}}function a(){let e=r(t);if(!e)return null;try{let t=JSON.parse(e),s=t.startTime+60*t.duration*1e3;if(Date.now()>s)return c(),null;return t}catch{return null}}function l(e){i(t,JSON.stringify(e))}function c(){try{localStorage.removeItem(t)}catch{console.warn("Failed to remove from localStorage")}}function o(){let e=a();if(!e)return 0;let t=e.quitAttempts+1;return l({...e,quitAttempts:t}),t}function u(){let e=r(s);if(!e)return[];try{return JSON.parse(e)}catch{return[]}}function m(e){let t=u();i(s,JSON.stringify([{...e,timestamp:Date.now()},...t].slice(0,100)))}function d(){let e=r(n),t={brownNoise:!1,brownNoiseVolume:.5,lastDuration:25};if(!e)return t;try{return{...t,...JSON.parse(e)}}catch{return t}}function f(e){i(n,JSON.stringify({...d(),...e}))}function x(e){return Math.ceil(Math.max(0,e.startTime+60*e.duration*1e3-Date.now())/1e3)}function h(e){return 0>=x(e)}e.s(["addToHistory",()=>m,"clearActiveSession",()=>c,"getActiveSession",()=>a,"getHistory",()=>u,"getPreferences",()=>d,"getRemainingTime",()=>x,"incrementQuitAttempts",()=>o,"isSessionComplete",()=>h,"setActiveSession",()=>l,"setPreferences",()=>f])},99369,e=>{"use strict";var t=e.i(43476),s=e.i(71645),n=e.i(18566),r=e.i(59544),i=e.i(75157),a=e.i(3053);function l(){let e=(0,n.useRouter)(),[l,c]=(0,s.useState)(!1),[o,u]=(0,s.useState)(null);return((0,s.useEffect)(()=>{c(!0);let e=(0,a.getHistory)();e.length>0&&e[0].completed&&u({duration:e[0].duration,timestamp:e[0].timestamp})},[]),l)?(0,t.jsx)("div",{className:"min-h-screen flex flex-col items-center justify-center px-6 py-12 bg-gradient-to-b from-surface-950 to-surface-900",children:(0,t.jsxs)("div",{className:"w-full max-w-md mx-auto text-center space-y-8 animate-fade-in-up",children:[(0,t.jsx)("div",{className:"mx-auto w-24 h-24 rounded-full bg-success-500/20 flex items-center justify-center glow-success",children:(0,t.jsx)("svg",{className:"w-12 h-12 text-success-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h1",{className:"text-4xl md:text-5xl font-bold text-white",children:"Session Complete"}),(0,t.jsx)("p",{className:"text-surface-400 text-lg",children:"You stayed locked. Well done."})]}),o&&(0,t.jsxs)("div",{className:"glass rounded-2xl p-6 space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-surface-400",children:"Duration"}),(0,t.jsx)("span",{className:"text-white font-semibold",children:(0,i.formatDuration)(o.duration)})]}),(0,t.jsx)("div",{className:"h-px bg-surface-700"}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-surface-400",children:"Completed"}),(0,t.jsx)("span",{className:"text-white font-semibold",children:(0,i.formatDateTime)(new Date(o.timestamp))})]})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-3 pt-4",children:[(0,t.jsx)(r.Button,{variant:"primary",size:"lg",className:"w-full glow",onClick:()=>{e.push("/")},children:"Start another session"}),(0,t.jsx)(r.Button,{variant:"ghost",size:"lg",className:"w-full",onClick:()=>{},children:"Take a break"})]}),(0,t.jsx)("p",{className:"text-sm text-surface-500 pt-4",children:"Every completed session builds momentum."})]})}):(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsx)("div",{className:"w-8 h-8 border-2 border-success-500 border-t-transparent rounded-full animate-spin"})})}e.s(["default",()=>l])}]);
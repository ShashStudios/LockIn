{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///Users/shashwat/Desktop/untitled%20folder/src/lib/utils.ts"],"sourcesContent":["import { type ClassValue, clsx } from \"clsx\";\nimport { twMerge } from \"tailwind-merge\";\n\nexport function cn(...inputs: ClassValue[]) {\n    return twMerge(clsx(inputs));\n}\n\nexport function formatTime(totalSeconds: number): string {\n    const minutes = Math.floor(totalSeconds / 60);\n    const seconds = totalSeconds % 60;\n    return `${minutes.toString().padStart(2, \"0\")}:${seconds.toString().padStart(2, \"0\")}`;\n}\n\nexport function formatDuration(minutes: number): string {\n    if (minutes < 60) {\n        return `${minutes} min`;\n    }\n    const hours = Math.floor(minutes / 60);\n    const mins = minutes % 60;\n    return mins > 0 ? `${hours}h ${mins}m` : `${hours}h`;\n}\n\nexport function formatDate(date: Date): string {\n    return new Intl.DateTimeFormat(\"en-US\", {\n        weekday: \"long\",\n        month: \"long\",\n        day: \"numeric\",\n        year: \"numeric\",\n    }).format(date);\n}\n\nexport function formatDateTime(date: Date): string {\n    return new Intl.DateTimeFormat(\"en-US\", {\n        month: \"short\",\n        day: \"numeric\",\n        hour: \"numeric\",\n        minute: \"2-digit\",\n        hour12: true,\n    }).format(date);\n}\n"],"names":[],"mappings":";;;;;;;;;;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACtC,OAAO,IAAA,sKAAO,EAAC,IAAA,6IAAI,EAAC;AACxB;AAEO,SAAS,WAAW,YAAoB;IAC3C,MAAM,UAAU,KAAK,KAAK,CAAC,eAAe;IAC1C,MAAM,UAAU,eAAe;IAC/B,OAAO,GAAG,QAAQ,QAAQ,GAAG,QAAQ,CAAC,GAAG,KAAK,CAAC,EAAE,QAAQ,QAAQ,GAAG,QAAQ,CAAC,GAAG,MAAM;AAC1F;AAEO,SAAS,eAAe,OAAe;IAC1C,IAAI,UAAU,IAAI;QACd,OAAO,GAAG,QAAQ,IAAI,CAAC;IAC3B;IACA,MAAM,QAAQ,KAAK,KAAK,CAAC,UAAU;IACnC,MAAM,OAAO,UAAU;IACvB,OAAO,OAAO,IAAI,GAAG,MAAM,EAAE,EAAE,KAAK,CAAC,CAAC,GAAG,GAAG,MAAM,CAAC,CAAC;AACxD;AAEO,SAAS,WAAW,IAAU;IACjC,OAAO,IAAI,KAAK,cAAc,CAAC,SAAS;QACpC,SAAS;QACT,OAAO;QACP,KAAK;QACL,MAAM;IACV,GAAG,MAAM,CAAC;AACd;AAEO,SAAS,eAAe,IAAU;IACrC,OAAO,IAAI,KAAK,cAAc,CAAC,SAAS;QACpC,OAAO;QACP,KAAK;QACL,MAAM;QACN,QAAQ;QACR,QAAQ;IACZ,GAAG,MAAM,CAAC;AACd"}},
    {"offset": {"line": 81, "column": 0}, "map": {"version":3,"sources":["file:///Users/shashwat/Desktop/untitled%20folder/src/components/Timer.tsx"],"sourcesContent":["\"use client\";\n\nimport { formatTime } from \"@/lib/utils\";\nimport { cn } from \"@/lib/utils\";\n\ninterface TimerProps {\n    seconds: number;\n    className?: string;\n}\n\nexport function Timer({ seconds, className }: TimerProps) {\n    return (\n        <div\n            className={cn(\n                \"timer-display text-8xl md:text-9xl font-light text-white tracking-tight\",\n                className\n            )}\n        >\n            {formatTime(seconds)}\n        </div>\n    );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;;AAUO,SAAS,MAAM,EAAE,OAAO,EAAE,SAAS,EAAc;IACpD,qBACI,8OAAC;QACG,WAAW,IAAA,yHAAE,EACT,2EACA;kBAGH,IAAA,iIAAU,EAAC;;;;;;AAGxB"}},
    {"offset": {"line": 105, "column": 0}, "map": {"version":3,"sources":["file:///Users/shashwat/Desktop/untitled%20folder/src/components/ProgressRing.tsx"],"sourcesContent":["\"use client\";\n\nimport { cn } from \"@/lib/utils\";\n\ninterface ProgressRingProps {\n    progress: number; // 0-100\n    size?: number;\n    strokeWidth?: number;\n    className?: string;\n}\n\nexport function ProgressRing({\n    progress,\n    size = 300,\n    strokeWidth = 4,\n    className,\n}: ProgressRingProps) {\n    const radius = (size - strokeWidth) / 2;\n    const circumference = radius * 2 * Math.PI;\n    const strokeDashoffset = circumference - (progress / 100) * circumference;\n\n    return (\n        <div className={cn(\"relative\", className)} style={{ width: size, height: size }}>\n            <svg\n                className=\"transform -rotate-90\"\n                width={size}\n                height={size}\n            >\n                {/* Background circle */}\n                <circle\n                    cx={size / 2}\n                    cy={size / 2}\n                    r={radius}\n                    fill=\"none\"\n                    stroke=\"currentColor\"\n                    strokeWidth={strokeWidth}\n                    className=\"text-surface-800\"\n                />\n                {/* Progress circle */}\n                <circle\n                    cx={size / 2}\n                    cy={size / 2}\n                    r={radius}\n                    fill=\"none\"\n                    stroke=\"currentColor\"\n                    strokeWidth={strokeWidth}\n                    strokeLinecap=\"round\"\n                    className=\"text-primary-500 progress-ring-circle\"\n                    style={{\n                        strokeDasharray: circumference,\n                        strokeDashoffset,\n                    }}\n                />\n            </svg>\n        </div>\n    );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAWO,SAAS,aAAa,EACzB,QAAQ,EACR,OAAO,GAAG,EACV,cAAc,CAAC,EACf,SAAS,EACO;IAChB,MAAM,SAAS,CAAC,OAAO,WAAW,IAAI;IACtC,MAAM,gBAAgB,SAAS,IAAI,KAAK,EAAE;IAC1C,MAAM,mBAAmB,gBAAgB,AAAC,WAAW,MAAO;IAE5D,qBACI,8OAAC;QAAI,WAAW,IAAA,yHAAE,EAAC,YAAY;QAAY,OAAO;YAAE,OAAO;YAAM,QAAQ;QAAK;kBAC1E,cAAA,8OAAC;YACG,WAAU;YACV,OAAO;YACP,QAAQ;;8BAGR,8OAAC;oBACG,IAAI,OAAO;oBACX,IAAI,OAAO;oBACX,GAAG;oBACH,MAAK;oBACL,QAAO;oBACP,aAAa;oBACb,WAAU;;;;;;8BAGd,8OAAC;oBACG,IAAI,OAAO;oBACX,IAAI,OAAO;oBACX,GAAG;oBACH,MAAK;oBACL,QAAO;oBACP,aAAa;oBACb,eAAc;oBACd,WAAU;oBACV,OAAO;wBACH,iBAAiB;wBACjB;oBACJ;;;;;;;;;;;;;;;;;AAKpB"}},
    {"offset": {"line": 176, "column": 0}, "map": {"version":3,"sources":["file:///Users/shashwat/Desktop/untitled%20folder/src/components/ui/Modal.tsx"],"sourcesContent":["\"use client\";\n\nimport { ReactNode, useEffect, useCallback } from \"react\";\nimport { cn } from \"@/lib/utils\";\n\ninterface ModalProps {\n    isOpen: boolean;\n    onClose: () => void;\n    children: ReactNode;\n    className?: string;\n    showCloseButton?: boolean;\n}\n\nexport function Modal({ isOpen, onClose, children, className, showCloseButton = false }: ModalProps) {\n    const handleEscape = useCallback(\n        (e: KeyboardEvent) => {\n            if (e.key === \"Escape\") {\n                onClose();\n            }\n        },\n        [onClose]\n    );\n\n    useEffect(() => {\n        if (isOpen) {\n            document.addEventListener(\"keydown\", handleEscape);\n            document.body.style.overflow = \"hidden\";\n        }\n\n        return () => {\n            document.removeEventListener(\"keydown\", handleEscape);\n            document.body.style.overflow = \"unset\";\n        };\n    }, [isOpen, handleEscape]);\n\n    if (!isOpen) return null;\n\n    return (\n        <div className=\"modal-backdrop flex items-center justify-center p-4 animate-fade-in\">\n            <div\n                className={cn(\n                    \"relative w-full max-w-md glass rounded-2xl p-6 animate-scale-in\",\n                    className\n                )}\n                onClick={(e) => e.stopPropagation()}\n            >\n                {showCloseButton && (\n                    <button\n                        onClick={onClose}\n                        className=\"absolute top-4 right-4 text-surface-400 hover:text-white transition-colors\"\n                        aria-label=\"Close modal\"\n                    >\n                        <svg className=\"w-5 h-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                        </svg>\n                    </button>\n                )}\n                {children}\n            </div>\n        </div>\n    );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAaO,SAAS,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,QAAQ,EAAE,SAAS,EAAE,kBAAkB,KAAK,EAAc;IAC/F,MAAM,eAAe,IAAA,oNAAW,EAC5B,CAAC;QACG,IAAI,EAAE,GAAG,KAAK,UAAU;YACpB;QACJ;IACJ,GACA;QAAC;KAAQ;IAGb,IAAA,kNAAS,EAAC;QACN,IAAI,QAAQ;YACR,SAAS,gBAAgB,CAAC,WAAW;YACrC,SAAS,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG;QACnC;QAEA,OAAO;YACH,SAAS,mBAAmB,CAAC,WAAW;YACxC,SAAS,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG;QACnC;IACJ,GAAG;QAAC;QAAQ;KAAa;IAEzB,IAAI,CAAC,QAAQ,OAAO;IAEpB,qBACI,8OAAC;QAAI,WAAU;kBACX,cAAA,8OAAC;YACG,WAAW,IAAA,yHAAE,EACT,mEACA;YAEJ,SAAS,CAAC,IAAM,EAAE,eAAe;;gBAEhC,iCACG,8OAAC;oBACG,SAAS;oBACT,WAAU;oBACV,cAAW;8BAEX,cAAA,8OAAC;wBAAI,WAAU;wBAAU,MAAK;wBAAO,SAAQ;wBAAY,QAAO;kCAC5D,cAAA,8OAAC;4BAAK,eAAc;4BAAQ,gBAAe;4BAAQ,aAAa;4BAAG,GAAE;;;;;;;;;;;;;;;;gBAIhF;;;;;;;;;;;;AAIjB"}},
    {"offset": {"line": 261, "column": 0}, "map": {"version":3,"sources":["file:///Users/shashwat/Desktop/untitled%20folder/src/components/ui/Button.tsx"],"sourcesContent":["\"use client\";\n\nimport { forwardRef, ButtonHTMLAttributes } from \"react\";\nimport { cn } from \"@/lib/utils\";\n\nexport interface ButtonProps extends ButtonHTMLAttributes<HTMLButtonElement> {\n    variant?: \"primary\" | \"secondary\" | \"ghost\" | \"danger\" | \"success\";\n    size?: \"sm\" | \"md\" | \"lg\" | \"xl\";\n    isLoading?: boolean;\n}\n\nconst Button = forwardRef<HTMLButtonElement, ButtonProps>(\n    ({ className, variant = \"primary\", size = \"md\", isLoading, disabled, children, ...props }, ref) => {\n        const baseStyles = \"relative inline-flex items-center justify-center font-medium transition-all duration-200 focus-ring rounded-xl disabled:opacity-50 disabled:cursor-not-allowed\";\n\n        const variants = {\n            primary: \"bg-primary-600 hover:bg-primary-500 text-white shadow-lg shadow-primary-500/25 hover:shadow-primary-500/40 btn-primary\",\n            secondary: \"bg-surface-800 hover:bg-surface-700 text-white border border-surface-600 hover:border-surface-500\",\n            ghost: \"bg-transparent hover:bg-surface-800/50 text-surface-300 hover:text-white\",\n            danger: \"bg-red-600/20 hover:bg-red-600/30 text-red-400 border border-red-500/30 hover:border-red-500/50\",\n            success: \"bg-success-600 hover:bg-success-500 text-white shadow-lg shadow-success-500/25 glow-success\",\n        };\n\n        const sizes = {\n            sm: \"px-3 py-1.5 text-sm\",\n            md: \"px-4 py-2 text-sm\",\n            lg: \"px-6 py-3 text-base\",\n            xl: \"px-8 py-4 text-lg\",\n        };\n\n        return (\n            <button\n                ref={ref}\n                className={cn(baseStyles, variants[variant], sizes[size], className)}\n                disabled={disabled || isLoading}\n                {...props}\n            >\n                {isLoading ? (\n                    <span className=\"flex items-center gap-2\">\n                        <svg className=\"animate-spin h-4 w-4\" viewBox=\"0 0 24 24\">\n                            <circle\n                                className=\"opacity-25\"\n                                cx=\"12\"\n                                cy=\"12\"\n                                r=\"10\"\n                                stroke=\"currentColor\"\n                                strokeWidth=\"4\"\n                                fill=\"none\"\n                            />\n                            <path\n                                className=\"opacity-75\"\n                                fill=\"currentColor\"\n                                d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n                            />\n                        </svg>\n                        Loading...\n                    </span>\n                ) : (\n                    children\n                )}\n            </button>\n        );\n    }\n);\n\nButton.displayName = \"Button\";\n\nexport { Button };\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAWA,MAAM,uBAAS,IAAA,mNAAU,EACrB,CAAC,EAAE,SAAS,EAAE,UAAU,SAAS,EAAE,OAAO,IAAI,EAAE,SAAS,EAAE,QAAQ,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE;IACvF,MAAM,aAAa;IAEnB,MAAM,WAAW;QACb,SAAS;QACT,WAAW;QACX,OAAO;QACP,QAAQ;QACR,SAAS;IACb;IAEA,MAAM,QAAQ;QACV,IAAI;QACJ,IAAI;QACJ,IAAI;QACJ,IAAI;IACR;IAEA,qBACI,8OAAC;QACG,KAAK;QACL,WAAW,IAAA,yHAAE,EAAC,YAAY,QAAQ,CAAC,QAAQ,EAAE,KAAK,CAAC,KAAK,EAAE;QAC1D,UAAU,YAAY;QACrB,GAAG,KAAK;kBAER,0BACG,8OAAC;YAAK,WAAU;;8BACZ,8OAAC;oBAAI,WAAU;oBAAuB,SAAQ;;sCAC1C,8OAAC;4BACG,WAAU;4BACV,IAAG;4BACH,IAAG;4BACH,GAAE;4BACF,QAAO;4BACP,aAAY;4BACZ,MAAK;;;;;;sCAET,8OAAC;4BACG,WAAU;4BACV,MAAK;4BACL,GAAE;;;;;;;;;;;;gBAEJ;;;;;;uDAIV;;;;;;AAIhB;AAGJ,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 346, "column": 0}, "map": {"version":3,"sources":["file:///Users/shashwat/Desktop/untitled%20folder/src/components/QuitModal.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect, useCallback } from \"react\";\nimport { Modal } from \"@/components/ui/Modal\";\nimport { Button } from \"@/components/ui/Button\";\n\ninterface QuitModalProps {\n    isOpen: boolean;\n    onClose: () => void;\n    onConfirmQuit: () => void;\n    isPro?: boolean;\n}\n\nconst DELAY_SECONDS = 12; // Delay before button becomes active\nconst REQUIRED_TEXT = \"LOCK IN\";\n\nconst CALMING_MESSAGES = [\n    \"You're closer than you think.\",\n    \"The best work happens in the last stretch.\",\n    \"This moment of resistance is where growth lives.\",\n    \"One more push. You've got this.\",\n];\n\nexport function QuitModal({ isOpen, onClose, onConfirmQuit, isPro = false }: QuitModalProps) {\n    const [countdown, setCountdown] = useState(DELAY_SECONDS);\n    const [inputText, setInputText] = useState(\"\");\n    const [messageIndex, setMessageIndex] = useState(0);\n\n    const delay = isPro ? DELAY_SECONDS + 3 : DELAY_SECONDS; // Pro users get stronger friction\n\n    const canQuit = countdown <= 0 && inputText.toUpperCase() === REQUIRED_TEXT;\n\n    // Reset state when modal opens\n    useEffect(() => {\n        if (isOpen) {\n            setCountdown(delay);\n            setInputText(\"\");\n            setMessageIndex(0);\n        }\n    }, [isOpen, delay]);\n\n    // Countdown timer\n    useEffect(() => {\n        if (!isOpen || countdown <= 0) return;\n\n        const timer = setInterval(() => {\n            setCountdown((prev) => Math.max(0, prev - 1));\n        }, 1000);\n\n        return () => clearInterval(timer);\n    }, [isOpen, countdown]);\n\n    // Rotate calming messages\n    useEffect(() => {\n        if (!isOpen || countdown <= 0) return;\n\n        const interval = setInterval(() => {\n            setMessageIndex((prev) => (prev + 1) % CALMING_MESSAGES.length);\n        }, 3000);\n\n        return () => clearInterval(interval);\n    }, [isOpen, countdown]);\n\n    const handleQuit = useCallback(() => {\n        if (canQuit) {\n            onConfirmQuit();\n        }\n    }, [canQuit, onConfirmQuit]);\n\n    return (\n        <Modal isOpen={isOpen} onClose={onClose}>\n            <div className=\"text-center space-y-6\">\n                {/* Header */}\n                <div className=\"space-y-2\">\n                    <h2 className=\"text-xl font-semibold text-white\">\n                        Are you quitting for a real reason?\n                    </h2>\n                    <p className=\"text-surface-400 text-sm\">\n                        Taking breaks is fine. Giving up isn&apos;t.\n                    </p>\n                </div>\n\n                {/* Calming message during countdown */}\n                {countdown > 0 && (\n                    <div className=\"py-6\">\n                        <p className=\"text-primary-400 text-lg font-medium animate-pulse-soft\">\n                            {CALMING_MESSAGES[messageIndex]}\n                        </p>\n                        <p className=\"text-surface-500 text-sm mt-4\">\n                            Confirm available in {countdown}s\n                        </p>\n                    </div>\n                )}\n\n                {/* Input section - appears when countdown is done */}\n                {countdown <= 0 && (\n                    <div className=\"space-y-3 py-4\">\n                        <p className=\"text-surface-300 text-sm\">\n                            Type <span className=\"font-mono font-bold text-white\">{REQUIRED_TEXT}</span> to confirm:\n                        </p>\n                        <input\n                            type=\"text\"\n                            value={inputText}\n                            onChange={(e) => setInputText(e.target.value)}\n                            placeholder=\"Type here...\"\n                            className=\"w-full px-4 py-3 bg-surface-800 border border-surface-600 rounded-xl text-center text-white placeholder:text-surface-500 focus:outline-none focus:border-primary-500 font-mono uppercase tracking-widest\"\n                            autoFocus\n                        />\n                    </div>\n                )}\n\n                {/* Actions */}\n                <div className=\"flex gap-3 pt-2\">\n                    <Button\n                        variant=\"secondary\"\n                        className=\"flex-1\"\n                        onClick={onClose}\n                    >\n                        Keep Going\n                    </Button>\n                    <Button\n                        variant=\"danger\"\n                        className=\"flex-1\"\n                        disabled={!canQuit}\n                        onClick={handleQuit}\n                    >\n                        {countdown > 0 ? `Wait ${countdown}s` : canQuit ? \"Quit Session\" : \"Type to confirm\"}\n                    </Button>\n                </div>\n            </div>\n        </Modal>\n    );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAaA,MAAM,gBAAgB,IAAI,qCAAqC;AAC/D,MAAM,gBAAgB;AAEtB,MAAM,mBAAmB;IACrB;IACA;IACA;IACA;CACH;AAEM,SAAS,UAAU,EAAE,MAAM,EAAE,OAAO,EAAE,aAAa,EAAE,QAAQ,KAAK,EAAkB;IACvF,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAC3C,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAC3C,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAC;IAEjD,MAAM,QAAQ,QAAQ,gBAAgB,IAAI,eAAe,kCAAkC;IAE3F,MAAM,UAAU,aAAa,KAAK,UAAU,WAAW,OAAO;IAE9D,+BAA+B;IAC/B,IAAA,kNAAS,EAAC;QACN,IAAI,QAAQ;YACR,aAAa;YACb,aAAa;YACb,gBAAgB;QACpB;IACJ,GAAG;QAAC;QAAQ;KAAM;IAElB,kBAAkB;IAClB,IAAA,kNAAS,EAAC;QACN,IAAI,CAAC,UAAU,aAAa,GAAG;QAE/B,MAAM,QAAQ,YAAY;YACtB,aAAa,CAAC,OAAS,KAAK,GAAG,CAAC,GAAG,OAAO;QAC9C,GAAG;QAEH,OAAO,IAAM,cAAc;IAC/B,GAAG;QAAC;QAAQ;KAAU;IAEtB,0BAA0B;IAC1B,IAAA,kNAAS,EAAC;QACN,IAAI,CAAC,UAAU,aAAa,GAAG;QAE/B,MAAM,WAAW,YAAY;YACzB,gBAAgB,CAAC,OAAS,CAAC,OAAO,CAAC,IAAI,iBAAiB,MAAM;QAClE,GAAG;QAEH,OAAO,IAAM,cAAc;IAC/B,GAAG;QAAC;QAAQ;KAAU;IAEtB,MAAM,aAAa,IAAA,oNAAW,EAAC;QAC3B,IAAI,SAAS;YACT;QACJ;IACJ,GAAG;QAAC;QAAS;KAAc;IAE3B,qBACI,8OAAC,0IAAK;QAAC,QAAQ;QAAQ,SAAS;kBAC5B,cAAA,8OAAC;YAAI,WAAU;;8BAEX,8OAAC;oBAAI,WAAU;;sCACX,8OAAC;4BAAG,WAAU;sCAAmC;;;;;;sCAGjD,8OAAC;4BAAE,WAAU;sCAA2B;;;;;;;;;;;;gBAM3C,YAAY,mBACT,8OAAC;oBAAI,WAAU;;sCACX,8OAAC;4BAAE,WAAU;sCACR,gBAAgB,CAAC,aAAa;;;;;;sCAEnC,8OAAC;4BAAE,WAAU;;gCAAgC;gCACnB;gCAAU;;;;;;;;;;;;;gBAM3C,aAAa,mBACV,8OAAC;oBAAI,WAAU;;sCACX,8OAAC;4BAAE,WAAU;;gCAA2B;8CAC/B,8OAAC;oCAAK,WAAU;8CAAkC;;;;;;gCAAqB;;;;;;;sCAEhF,8OAAC;4BACG,MAAK;4BACL,OAAO;4BACP,UAAU,CAAC,IAAM,aAAa,EAAE,MAAM,CAAC,KAAK;4BAC5C,aAAY;4BACZ,WAAU;4BACV,SAAS;;;;;;;;;;;;8BAMrB,8OAAC;oBAAI,WAAU;;sCACX,8OAAC,4IAAM;4BACH,SAAQ;4BACR,WAAU;4BACV,SAAS;sCACZ;;;;;;sCAGD,8OAAC,4IAAM;4BACH,SAAQ;4BACR,WAAU;4BACV,UAAU,CAAC;4BACX,SAAS;sCAER,YAAY,IAAI,CAAC,KAAK,EAAE,UAAU,CAAC,CAAC,GAAG,UAAU,iBAAiB;;;;;;;;;;;;;;;;;;;;;;;AAM3F"}},
    {"offset": {"line": 560, "column": 0}, "map": {"version":3,"sources":["file:///Users/shashwat/Desktop/untitled%20folder/src/components/BrownNoisePlayer.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useRef, useState, useCallback } from \"react\";\n\ninterface BrownNoisePlayerProps {\n    isPlaying: boolean;\n    volume?: number; // 0-1, Pro feature\n    showVolumeControl?: boolean;\n    onVolumeChange?: (volume: number) => void;\n}\n\nexport function BrownNoisePlayer({\n    isPlaying,\n    volume = 0.5,\n    showVolumeControl = false,\n    onVolumeChange,\n}: BrownNoisePlayerProps) {\n    const audioRef = useRef<HTMLAudioElement | null>(null);\n    const [isLoaded, setIsLoaded] = useState(false);\n\n    // Initialize audio on mount\n    useEffect(() => {\n        audioRef.current = new Audio(\"/brown-noise.mp3\");\n        audioRef.current.loop = true;\n        audioRef.current.volume = volume;\n\n        audioRef.current.addEventListener(\"canplaythrough\", () => {\n            setIsLoaded(true);\n        });\n\n        return () => {\n            if (audioRef.current) {\n                audioRef.current.pause();\n                audioRef.current = null;\n            }\n        };\n    }, []);\n\n    // Handle play/pause\n    useEffect(() => {\n        if (!audioRef.current) return;\n\n        if (isPlaying && isLoaded) {\n            audioRef.current.play().catch((err) => {\n                console.warn(\"Audio play failed:\", err);\n            });\n        } else {\n            audioRef.current.pause();\n        }\n    }, [isPlaying, isLoaded]);\n\n    // Handle volume changes\n    useEffect(() => {\n        if (audioRef.current) {\n            audioRef.current.volume = volume;\n        }\n    }, [volume]);\n\n    const handleVolumeChange = useCallback(\n        (e: React.ChangeEvent<HTMLInputElement>) => {\n            const newVolume = parseFloat(e.target.value);\n            onVolumeChange?.(newVolume);\n        },\n        [onVolumeChange]\n    );\n\n    if (!showVolumeControl) {\n        return null; // Just manages audio, no UI for free users\n    }\n\n    return (\n        <div className=\"flex items-center gap-3\">\n            <svg className=\"w-4 h-4 text-surface-400\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path d=\"M11.5 3.75a.75.75 0 00-1.24-.57L6.01 7H4a1 1 0 00-1 1v8a1 1 0 001 1h2.01l4.25 3.82a.75.75 0 001.24-.57V3.75z\" />\n                {volume > 0 && (\n                    <path d=\"M14.5 7.5a.75.75 0 011.06 0 5.5 5.5 0 010 7.78.75.75 0 11-1.06-1.06 4 4 0 000-5.66.75.75 0 010-1.06z\" />\n                )}\n                {volume > 0.5 && (\n                    <path d=\"M17.5 4.5a.75.75 0 011.06 0 9.5 9.5 0 010 13.43.75.75 0 01-1.06-1.06 8 8 0 000-11.31.75.75 0 010-1.06z\" />\n                )}\n            </svg>\n            <input\n                type=\"range\"\n                min=\"0\"\n                max=\"1\"\n                step=\"0.1\"\n                value={volume}\n                onChange={handleVolumeChange}\n                className=\"w-24 h-1 bg-surface-700 rounded-lg appearance-none cursor-pointer accent-primary-500\"\n            />\n        </div>\n    );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAWO,SAAS,iBAAiB,EAC7B,SAAS,EACT,SAAS,GAAG,EACZ,oBAAoB,KAAK,EACzB,cAAc,EACM;IACpB,MAAM,WAAW,IAAA,+MAAM,EAA0B;IACjD,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IAEzC,4BAA4B;IAC5B,IAAA,kNAAS,EAAC;QACN,SAAS,OAAO,GAAG,IAAI,MAAM;QAC7B,SAAS,OAAO,CAAC,IAAI,GAAG;QACxB,SAAS,OAAO,CAAC,MAAM,GAAG;QAE1B,SAAS,OAAO,CAAC,gBAAgB,CAAC,kBAAkB;YAChD,YAAY;QAChB;QAEA,OAAO;YACH,IAAI,SAAS,OAAO,EAAE;gBAClB,SAAS,OAAO,CAAC,KAAK;gBACtB,SAAS,OAAO,GAAG;YACvB;QACJ;IACJ,GAAG,EAAE;IAEL,oBAAoB;IACpB,IAAA,kNAAS,EAAC;QACN,IAAI,CAAC,SAAS,OAAO,EAAE;QAEvB,IAAI,aAAa,UAAU;YACvB,SAAS,OAAO,CAAC,IAAI,GAAG,KAAK,CAAC,CAAC;gBAC3B,QAAQ,IAAI,CAAC,sBAAsB;YACvC;QACJ,OAAO;YACH,SAAS,OAAO,CAAC,KAAK;QAC1B;IACJ,GAAG;QAAC;QAAW;KAAS;IAExB,wBAAwB;IACxB,IAAA,kNAAS,EAAC;QACN,IAAI,SAAS,OAAO,EAAE;YAClB,SAAS,OAAO,CAAC,MAAM,GAAG;QAC9B;IACJ,GAAG;QAAC;KAAO;IAEX,MAAM,qBAAqB,IAAA,oNAAW,EAClC,CAAC;QACG,MAAM,YAAY,WAAW,EAAE,MAAM,CAAC,KAAK;QAC3C,iBAAiB;IACrB,GACA;QAAC;KAAe;IAGpB,IAAI,CAAC,mBAAmB;QACpB,OAAO,MAAM,2CAA2C;IAC5D;IAEA,qBACI,8OAAC;QAAI,WAAU;;0BACX,8OAAC;gBAAI,WAAU;gBAA2B,MAAK;gBAAe,SAAQ;;kCAClE,8OAAC;wBAAK,GAAE;;;;;;oBACP,SAAS,mBACN,8OAAC;wBAAK,GAAE;;;;;;oBAEX,SAAS,qBACN,8OAAC;wBAAK,GAAE;;;;;;;;;;;;0BAGhB,8OAAC;gBACG,MAAK;gBACL,KAAI;gBACJ,KAAI;gBACJ,MAAK;gBACL,OAAO;gBACP,UAAU;gBACV,WAAU;;;;;;;;;;;;AAI1B"}},
    {"offset": {"line": 677, "column": 0}, "map": {"version":3,"sources":["file:///Users/shashwat/Desktop/untitled%20folder/src/lib/storage.ts"],"sourcesContent":["// Types for localStorage session management\n\nexport interface ActiveSession {\n    startTime: number; // Epoch milliseconds\n    duration: number; // Duration in minutes\n    quitAttempts: number;\n    brownNoise: boolean;\n}\n\nexport interface SessionHistoryEntry {\n    date: string; // ISO date string\n    duration: number; // Duration in minutes\n    completed: boolean;\n    timestamp: number; // Epoch milliseconds for precise ordering\n}\n\nexport interface UserPreferences {\n    brownNoise: boolean;\n    brownNoiseVolume: number; // 0-1 for Pro users\n    lastDuration: number; // Last selected duration\n}\n\nconst STORAGE_KEYS = {\n    ACTIVE_SESSION: \"lockin_active_session\",\n    HISTORY: \"lockin_history\",\n    PREFERENCES: \"lockin_preferences\",\n} as const;\n\n// Safe localStorage access (handles SSR)\nfunction getItem(key: string): string | null {\n    if (typeof window === \"undefined\") return null;\n    try {\n        return localStorage.getItem(key);\n    } catch {\n        return null;\n    }\n}\n\nfunction setItem(key: string, value: string): void {\n    if (typeof window === \"undefined\") return;\n    try {\n        localStorage.setItem(key, value);\n    } catch {\n        console.warn(\"Failed to write to localStorage\");\n    }\n}\n\nfunction removeItem(key: string): void {\n    if (typeof window === \"undefined\") return;\n    try {\n        localStorage.removeItem(key);\n    } catch {\n        console.warn(\"Failed to remove from localStorage\");\n    }\n}\n\n// Active Session Management\nexport function getActiveSession(): ActiveSession | null {\n    const data = getItem(STORAGE_KEYS.ACTIVE_SESSION);\n    if (!data) return null;\n\n    try {\n        const session = JSON.parse(data) as ActiveSession;\n\n        // Validate session hasn't expired\n        const endTime = session.startTime + session.duration * 60 * 1000;\n        if (Date.now() > endTime) {\n            // Session has expired, clear it\n            clearActiveSession();\n            return null;\n        }\n\n        return session;\n    } catch {\n        return null;\n    }\n}\n\nexport function setActiveSession(session: ActiveSession): void {\n    setItem(STORAGE_KEYS.ACTIVE_SESSION, JSON.stringify(session));\n}\n\nexport function clearActiveSession(): void {\n    removeItem(STORAGE_KEYS.ACTIVE_SESSION);\n}\n\nexport function incrementQuitAttempts(): number {\n    const session = getActiveSession();\n    if (!session) return 0;\n\n    const newAttempts = session.quitAttempts + 1;\n    setActiveSession({ ...session, quitAttempts: newAttempts });\n    return newAttempts;\n}\n\n// Session History Management\nexport function getHistory(): SessionHistoryEntry[] {\n    const data = getItem(STORAGE_KEYS.HISTORY);\n    if (!data) return [];\n\n    try {\n        return JSON.parse(data) as SessionHistoryEntry[];\n    } catch {\n        return [];\n    }\n}\n\nexport function addToHistory(entry: Omit<SessionHistoryEntry, \"timestamp\">): void {\n    const history = getHistory();\n    const newEntry: SessionHistoryEntry = {\n        ...entry,\n        timestamp: Date.now(),\n    };\n\n    // Keep last 100 sessions\n    const updatedHistory = [newEntry, ...history].slice(0, 100);\n    setItem(STORAGE_KEYS.HISTORY, JSON.stringify(updatedHistory));\n}\n\nexport function clearHistory(): void {\n    removeItem(STORAGE_KEYS.HISTORY);\n}\n\n// User Preferences\nexport function getPreferences(): UserPreferences {\n    const data = getItem(STORAGE_KEYS.PREFERENCES);\n    const defaults: UserPreferences = {\n        brownNoise: false,\n        brownNoiseVolume: 0.5,\n        lastDuration: 25,\n    };\n\n    if (!data) return defaults;\n\n    try {\n        return { ...defaults, ...JSON.parse(data) };\n    } catch {\n        return defaults;\n    }\n}\n\nexport function setPreferences(prefs: Partial<UserPreferences>): void {\n    const current = getPreferences();\n    setItem(STORAGE_KEYS.PREFERENCES, JSON.stringify({ ...current, ...prefs }));\n}\n\n// Calculate remaining time for an active session\nexport function getRemainingTime(session: ActiveSession): number {\n    const endTime = session.startTime + session.duration * 60 * 1000;\n    const remaining = Math.max(0, endTime - Date.now());\n    return Math.ceil(remaining / 1000); // Return seconds\n}\n\n// Check if session is complete\nexport function isSessionComplete(session: ActiveSession): boolean {\n    return getRemainingTime(session) <= 0;\n}\n"],"names":[],"mappings":"AAAA,4CAA4C;;;;;;;;;;;;;;;;;;;;;;;;;AAsB5C,MAAM,eAAe;IACjB,gBAAgB;IAChB,SAAS;IACT,aAAa;AACjB;AAEA,yCAAyC;AACzC,SAAS,QAAQ,GAAW;IACxB,wCAAmC,OAAO;;;AAM9C;AAEA,SAAS,QAAQ,GAAW,EAAE,KAAa;IACvC,wCAAmC;;;AAMvC;AAEA,SAAS,WAAW,GAAW;IAC3B,wCAAmC;;;AAMvC;AAGO,SAAS;IACZ,MAAM,OAAO,QAAQ,aAAa,cAAc;IAChD,IAAI,CAAC,MAAM,OAAO;IAElB,IAAI;QACA,MAAM,UAAU,KAAK,KAAK,CAAC;QAE3B,kCAAkC;QAClC,MAAM,UAAU,QAAQ,SAAS,GAAG,QAAQ,QAAQ,GAAG,KAAK;QAC5D,IAAI,KAAK,GAAG,KAAK,SAAS;YACtB,gCAAgC;YAChC;YACA,OAAO;QACX;QAEA,OAAO;IACX,EAAE,OAAM;QACJ,OAAO;IACX;AACJ;AAEO,SAAS,iBAAiB,OAAsB;IACnD,QAAQ,aAAa,cAAc,EAAE,KAAK,SAAS,CAAC;AACxD;AAEO,SAAS;IACZ,WAAW,aAAa,cAAc;AAC1C;AAEO,SAAS;IACZ,MAAM,UAAU;IAChB,IAAI,CAAC,SAAS,OAAO;IAErB,MAAM,cAAc,QAAQ,YAAY,GAAG;IAC3C,iBAAiB;QAAE,GAAG,OAAO;QAAE,cAAc;IAAY;IACzD,OAAO;AACX;AAGO,SAAS;IACZ,MAAM,OAAO,QAAQ,aAAa,OAAO;IACzC,IAAI,CAAC,MAAM,OAAO,EAAE;IAEpB,IAAI;QACA,OAAO,KAAK,KAAK,CAAC;IACtB,EAAE,OAAM;QACJ,OAAO,EAAE;IACb;AACJ;AAEO,SAAS,aAAa,KAA6C;IACtE,MAAM,UAAU;IAChB,MAAM,WAAgC;QAClC,GAAG,KAAK;QACR,WAAW,KAAK,GAAG;IACvB;IAEA,yBAAyB;IACzB,MAAM,iBAAiB;QAAC;WAAa;KAAQ,CAAC,KAAK,CAAC,GAAG;IACvD,QAAQ,aAAa,OAAO,EAAE,KAAK,SAAS,CAAC;AACjD;AAEO,SAAS;IACZ,WAAW,aAAa,OAAO;AACnC;AAGO,SAAS;IACZ,MAAM,OAAO,QAAQ,aAAa,WAAW;IAC7C,MAAM,WAA4B;QAC9B,YAAY;QACZ,kBAAkB;QAClB,cAAc;IAClB;IAEA,IAAI,CAAC,MAAM,OAAO;IAElB,IAAI;QACA,OAAO;YAAE,GAAG,QAAQ;YAAE,GAAG,KAAK,KAAK,CAAC,KAAK;QAAC;IAC9C,EAAE,OAAM;QACJ,OAAO;IACX;AACJ;AAEO,SAAS,eAAe,KAA+B;IAC1D,MAAM,UAAU;IAChB,QAAQ,aAAa,WAAW,EAAE,KAAK,SAAS,CAAC;QAAE,GAAG,OAAO;QAAE,GAAG,KAAK;IAAC;AAC5E;AAGO,SAAS,iBAAiB,OAAsB;IACnD,MAAM,UAAU,QAAQ,SAAS,GAAG,QAAQ,QAAQ,GAAG,KAAK;IAC5D,MAAM,YAAY,KAAK,GAAG,CAAC,GAAG,UAAU,KAAK,GAAG;IAChD,OAAO,KAAK,IAAI,CAAC,YAAY,OAAO,iBAAiB;AACzD;AAGO,SAAS,kBAAkB,OAAsB;IACpD,OAAO,iBAAiB,YAAY;AACxC"}},
    {"offset": {"line": 817, "column": 0}, "map": {"version":3,"sources":["file:///Users/shashwat/Desktop/untitled%20folder/src/hooks/useTimer.ts"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect, useCallback, useRef } from \"react\";\nimport { getActiveSession, getRemainingTime, isSessionComplete } from \"@/lib/storage\";\n\ninterface UseTimerReturn {\n    seconds: number;\n    isComplete: boolean;\n    isRunning: boolean;\n    progress: number; // 0-100\n}\n\nexport function useTimer(): UseTimerReturn {\n    const [seconds, setSeconds] = useState(0);\n    const [isComplete, setIsComplete] = useState(false);\n    const [isRunning, setIsRunning] = useState(false);\n    const [totalDuration, setTotalDuration] = useState(0);\n    const intervalRef = useRef<NodeJS.Timeout | null>(null);\n\n    const updateTimer = useCallback(() => {\n        const session = getActiveSession();\n\n        if (!session) {\n            setIsRunning(false);\n            setSeconds(0);\n            return;\n        }\n\n        setIsRunning(true);\n        setTotalDuration(session.duration * 60);\n\n        if (isSessionComplete(session)) {\n            setIsComplete(true);\n            setSeconds(0);\n            setIsRunning(false);\n        } else {\n            const remaining = getRemainingTime(session);\n            setSeconds(remaining);\n            setIsComplete(false);\n        }\n    }, []);\n\n    useEffect(() => {\n        // Initial update\n        updateTimer();\n\n        // Update every second using timestamp-based calculation\n        intervalRef.current = setInterval(updateTimer, 1000);\n\n        // Handle visibility change (tab switching)\n        const handleVisibilityChange = () => {\n            if (document.visibilityState === \"visible\") {\n                updateTimer();\n            }\n        };\n        document.addEventListener(\"visibilitychange\", handleVisibilityChange);\n\n        return () => {\n            if (intervalRef.current) {\n                clearInterval(intervalRef.current);\n            }\n            document.removeEventListener(\"visibilitychange\", handleVisibilityChange);\n        };\n    }, [updateTimer]);\n\n    const progress = totalDuration > 0\n        ? ((totalDuration - seconds) / totalDuration) * 100\n        : 0;\n\n    return {\n        seconds,\n        isComplete,\n        isRunning,\n        progress,\n    };\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AAHA;;;AAYO,SAAS;IACZ,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC;IAC7C,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAC3C,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,iNAAQ,EAAC;IACnD,MAAM,cAAc,IAAA,+MAAM,EAAwB;IAElD,MAAM,cAAc,IAAA,oNAAW,EAAC;QAC5B,MAAM,UAAU,IAAA,yIAAgB;QAEhC,IAAI,CAAC,SAAS;YACV,aAAa;YACb,WAAW;YACX;QACJ;QAEA,aAAa;QACb,iBAAiB,QAAQ,QAAQ,GAAG;QAEpC,IAAI,IAAA,0IAAiB,EAAC,UAAU;YAC5B,cAAc;YACd,WAAW;YACX,aAAa;QACjB,OAAO;YACH,MAAM,YAAY,IAAA,yIAAgB,EAAC;YACnC,WAAW;YACX,cAAc;QAClB;IACJ,GAAG,EAAE;IAEL,IAAA,kNAAS,EAAC;QACN,iBAAiB;QACjB;QAEA,wDAAwD;QACxD,YAAY,OAAO,GAAG,YAAY,aAAa;QAE/C,2CAA2C;QAC3C,MAAM,yBAAyB;YAC3B,IAAI,SAAS,eAAe,KAAK,WAAW;gBACxC;YACJ;QACJ;QACA,SAAS,gBAAgB,CAAC,oBAAoB;QAE9C,OAAO;YACH,IAAI,YAAY,OAAO,EAAE;gBACrB,cAAc,YAAY,OAAO;YACrC;YACA,SAAS,mBAAmB,CAAC,oBAAoB;QACrD;IACJ,GAAG;QAAC;KAAY;IAEhB,MAAM,WAAW,gBAAgB,IAC3B,AAAC,CAAC,gBAAgB,OAAO,IAAI,gBAAiB,MAC9C;IAEN,OAAO;QACH;QACA;QACA;QACA;IACJ;AACJ"}},
    {"offset": {"line": 884, "column": 0}, "map": {"version":3,"sources":["file:///Users/shashwat/Desktop/untitled%20folder/src/hooks/useFullscreen.ts"],"sourcesContent":["\"use client\";\n\nimport { useState, useCallback, useEffect } from \"react\";\n\ninterface UseFullscreenReturn {\n    isFullscreen: boolean;\n    enterFullscreen: () => Promise<void>;\n    exitFullscreen: () => Promise<void>;\n    toggleFullscreen: () => Promise<void>;\n    isSupported: boolean;\n}\n\nexport function useFullscreen(): UseFullscreenReturn {\n    const [isFullscreen, setIsFullscreen] = useState(false);\n    const [isSupported, setIsSupported] = useState(false);\n\n    useEffect(() => {\n        setIsSupported(!!document.documentElement.requestFullscreen);\n\n        const handleFullscreenChange = () => {\n            setIsFullscreen(!!document.fullscreenElement);\n        };\n\n        document.addEventListener(\"fullscreenchange\", handleFullscreenChange);\n\n        return () => {\n            document.removeEventListener(\"fullscreenchange\", handleFullscreenChange);\n        };\n    }, []);\n\n    const enterFullscreen = useCallback(async () => {\n        if (!isSupported) return;\n\n        try {\n            await document.documentElement.requestFullscreen();\n        } catch (err) {\n            console.warn(\"Failed to enter fullscreen:\", err);\n        }\n    }, [isSupported]);\n\n    const exitFullscreen = useCallback(async () => {\n        if (!document.fullscreenElement) return;\n\n        try {\n            await document.exitFullscreen();\n        } catch (err) {\n            console.warn(\"Failed to exit fullscreen:\", err);\n        }\n    }, []);\n\n    const toggleFullscreen = useCallback(async () => {\n        if (isFullscreen) {\n            await exitFullscreen();\n        } else {\n            await enterFullscreen();\n        }\n    }, [isFullscreen, enterFullscreen, exitFullscreen]);\n\n    return {\n        isFullscreen,\n        enterFullscreen,\n        exitFullscreen,\n        toggleFullscreen,\n        isSupported,\n    };\n}\n"],"names":[],"mappings":";;;;AAEA;AAFA;;AAYO,SAAS;IACZ,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAC;IACjD,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC;IAE/C,IAAA,kNAAS,EAAC;QACN,eAAe,CAAC,CAAC,SAAS,eAAe,CAAC,iBAAiB;QAE3D,MAAM,yBAAyB;YAC3B,gBAAgB,CAAC,CAAC,SAAS,iBAAiB;QAChD;QAEA,SAAS,gBAAgB,CAAC,oBAAoB;QAE9C,OAAO;YACH,SAAS,mBAAmB,CAAC,oBAAoB;QACrD;IACJ,GAAG,EAAE;IAEL,MAAM,kBAAkB,IAAA,oNAAW,EAAC;QAChC,IAAI,CAAC,aAAa;QAElB,IAAI;YACA,MAAM,SAAS,eAAe,CAAC,iBAAiB;QACpD,EAAE,OAAO,KAAK;YACV,QAAQ,IAAI,CAAC,+BAA+B;QAChD;IACJ,GAAG;QAAC;KAAY;IAEhB,MAAM,iBAAiB,IAAA,oNAAW,EAAC;QAC/B,IAAI,CAAC,SAAS,iBAAiB,EAAE;QAEjC,IAAI;YACA,MAAM,SAAS,cAAc;QACjC,EAAE,OAAO,KAAK;YACV,QAAQ,IAAI,CAAC,8BAA8B;QAC/C;IACJ,GAAG,EAAE;IAEL,MAAM,mBAAmB,IAAA,oNAAW,EAAC;QACjC,IAAI,cAAc;YACd,MAAM;QACV,OAAO;YACH,MAAM;QACV;IACJ,GAAG;QAAC;QAAc;QAAiB;KAAe;IAElD,OAAO;QACH;QACA;QACA;QACA;QACA;IACJ;AACJ"}},
    {"offset": {"line": 945, "column": 0}, "map": {"version":3,"sources":["file:///Users/shashwat/Desktop/untitled%20folder/src/app/focus/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect, useCallback } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { Timer } from \"@/components/Timer\";\nimport { ProgressRing } from \"@/components/ProgressRing\";\nimport { QuitModal } from \"@/components/QuitModal\";\nimport { BrownNoisePlayer } from \"@/components/BrownNoisePlayer\";\nimport { Button } from \"@/components/ui/Button\";\nimport { useTimer } from \"@/hooks/useTimer\";\nimport { useFullscreen } from \"@/hooks/useFullscreen\";\nimport {\n    getActiveSession,\n    clearActiveSession,\n    incrementQuitAttempts,\n    addToHistory,\n    getPreferences,\n    setPreferences,\n} from \"@/lib/storage\";\n\nexport default function FocusPage() {\n    const router = useRouter();\n    const { seconds, isComplete, progress } = useTimer();\n    const { enterFullscreen, exitFullscreen, isSupported } = useFullscreen();\n\n    const [showQuitModal, setShowQuitModal] = useState(false);\n    const [brownNoise, setBrownNoise] = useState(false);\n    const [brownNoiseVolume, setBrownNoiseVolume] = useState(0.5);\n    const [isPro, setIsPro] = useState(false); // Will be connected to Clerk later\n    const [mounted, setMounted] = useState(false);\n    const [sessionDuration, setSessionDuration] = useState(0);\n\n    // Initialize and load session\n    useEffect(() => {\n        setMounted(true);\n        const session = getActiveSession();\n\n        if (!session) {\n            // No active session, redirect to home\n            router.push(\"/\");\n            return;\n        }\n\n        setBrownNoise(session.brownNoise);\n        setSessionDuration(session.duration);\n\n        const prefs = getPreferences();\n        setBrownNoiseVolume(prefs.brownNoiseVolume || 0.5);\n\n        // Try to enter fullscreen after a short delay\n        if (isSupported) {\n            const timer = setTimeout(() => {\n                enterFullscreen();\n            }, 500);\n            return () => clearTimeout(timer);\n        }\n    }, [router, enterFullscreen, isSupported]);\n\n    // Handle session completion\n    useEffect(() => {\n        if (isComplete && mounted) {\n            // Add to history\n            addToHistory({\n                date: new Date().toISOString().split(\"T\")[0],\n                duration: sessionDuration,\n                completed: true,\n            });\n\n            clearActiveSession();\n            exitFullscreen();\n            router.push(\"/complete\");\n        }\n    }, [isComplete, mounted, sessionDuration, exitFullscreen, router]);\n\n    const handleQuitClick = useCallback(() => {\n        incrementQuitAttempts();\n        setShowQuitModal(true);\n    }, []);\n\n    const handleQuitConfirm = useCallback(() => {\n        // Add incomplete session to history\n        addToHistory({\n            date: new Date().toISOString().split(\"T\")[0],\n            duration: sessionDuration,\n            completed: false,\n        });\n\n        clearActiveSession();\n        exitFullscreen();\n        router.push(\"/\");\n    }, [sessionDuration, exitFullscreen, router]);\n\n    const handleVolumeChange = useCallback((volume: number) => {\n        setBrownNoiseVolume(volume);\n        setPreferences({ brownNoiseVolume: volume });\n    }, []);\n\n    // Loading state\n    if (!mounted) {\n        return (\n            <div className=\"focus-mode\">\n                <div className=\"w-8 h-8 border-2 border-primary-500 border-t-transparent rounded-full animate-spin\" />\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"focus-mode\">\n            {/* Brown noise audio player */}\n            <BrownNoisePlayer\n                isPlaying={brownNoise}\n                volume={brownNoiseVolume}\n                showVolumeControl={isPro}\n                onVolumeChange={handleVolumeChange}\n            />\n\n            {/* Main content */}\n            <div className=\"relative flex flex-col items-center justify-center gap-8 animate-fade-in\">\n                {/* Progress ring with timer inside */}\n                <div className=\"relative\">\n                    <ProgressRing progress={progress} size={320} strokeWidth={4} />\n                    <div className=\"absolute inset-0 flex flex-col items-center justify-center\">\n                        <Timer seconds={seconds} />\n                    </div>\n                </div>\n\n                {/* Motivational text */}\n                <p className=\"text-surface-400 text-lg md:text-xl text-center max-w-md breathing\">\n                    Stay locked. Finish what you started.\n                </p>\n\n                {/* Brown noise indicator */}\n                {brownNoise && (\n                    <div className=\"flex items-center gap-2 text-surface-500 text-sm\">\n                        <svg className=\"w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n                            <path d=\"M11.5 3.75a.75.75 0 00-1.24-.57L6.01 7H4a1 1 0 00-1 1v8a1 1 0 001 1h2.01l4.25 3.82a.75.75 0 001.24-.57V3.75z\" />\n                            <path d=\"M14.5 7.5a.75.75 0 011.06 0 5.5 5.5 0 010 7.78.75.75 0 11-1.06-1.06 4 4 0 000-5.66.75.75 0 010-1.06z\" />\n                        </svg>\n                        <span>Brown noise playing</span>\n                        {isPro && (\n                            <BrownNoisePlayer\n                                isPlaying={false}\n                                volume={brownNoiseVolume}\n                                showVolumeControl={true}\n                                onVolumeChange={handleVolumeChange}\n                            />\n                        )}\n                    </div>\n                )}\n            </div>\n\n            {/* Quit button - de-emphasized */}\n            <div className=\"absolute bottom-8 left-1/2 -translate-x-1/2\">\n                <Button\n                    variant=\"ghost\"\n                    size=\"sm\"\n                    onClick={handleQuitClick}\n                    className=\"text-surface-600 hover:text-surface-400\"\n                >\n                    Quit session\n                </Button>\n            </div>\n\n            {/* Quit confirmation modal */}\n            <QuitModal\n                isOpen={showQuitModal}\n                onClose={() => setShowQuitModal(false)}\n                onConfirmQuit={handleQuitConfirm}\n                isPro={isPro}\n            />\n        </div>\n    );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAXA;;;;;;;;;;;;AAoBe,SAAS;IACpB,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,EAAE,OAAO,EAAE,UAAU,EAAE,QAAQ,EAAE,GAAG,IAAA,oIAAQ;IAClD,MAAM,EAAE,eAAe,EAAE,cAAc,EAAE,WAAW,EAAE,GAAG,IAAA,8IAAa;IAEtE,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,iNAAQ,EAAC;IACnD,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC;IAC7C,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,iNAAQ,EAAC;IACzD,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC,QAAQ,mCAAmC;IAC9E,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,iNAAQ,EAAC;IAEvD,8BAA8B;IAC9B,IAAA,kNAAS,EAAC;QACN,WAAW;QACX,MAAM,UAAU,IAAA,yIAAgB;QAEhC,IAAI,CAAC,SAAS;YACV,sCAAsC;YACtC,OAAO,IAAI,CAAC;YACZ;QACJ;QAEA,cAAc,QAAQ,UAAU;QAChC,mBAAmB,QAAQ,QAAQ;QAEnC,MAAM,QAAQ,IAAA,uIAAc;QAC5B,oBAAoB,MAAM,gBAAgB,IAAI;QAE9C,8CAA8C;QAC9C,IAAI,aAAa;YACb,MAAM,QAAQ,WAAW;gBACrB;YACJ,GAAG;YACH,OAAO,IAAM,aAAa;QAC9B;IACJ,GAAG;QAAC;QAAQ;QAAiB;KAAY;IAEzC,4BAA4B;IAC5B,IAAA,kNAAS,EAAC;QACN,IAAI,cAAc,SAAS;YACvB,iBAAiB;YACjB,IAAA,qIAAY,EAAC;gBACT,MAAM,IAAI,OAAO,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE;gBAC5C,UAAU;gBACV,WAAW;YACf;YAEA,IAAA,2IAAkB;YAClB;YACA,OAAO,IAAI,CAAC;QAChB;IACJ,GAAG;QAAC;QAAY;QAAS;QAAiB;QAAgB;KAAO;IAEjE,MAAM,kBAAkB,IAAA,oNAAW,EAAC;QAChC,IAAA,8IAAqB;QACrB,iBAAiB;IACrB,GAAG,EAAE;IAEL,MAAM,oBAAoB,IAAA,oNAAW,EAAC;QAClC,oCAAoC;QACpC,IAAA,qIAAY,EAAC;YACT,MAAM,IAAI,OAAO,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE;YAC5C,UAAU;YACV,WAAW;QACf;QAEA,IAAA,2IAAkB;QAClB;QACA,OAAO,IAAI,CAAC;IAChB,GAAG;QAAC;QAAiB;QAAgB;KAAO;IAE5C,MAAM,qBAAqB,IAAA,oNAAW,EAAC,CAAC;QACpC,oBAAoB;QACpB,IAAA,uIAAc,EAAC;YAAE,kBAAkB;QAAO;IAC9C,GAAG,EAAE;IAEL,gBAAgB;IAChB,IAAI,CAAC,SAAS;QACV,qBACI,8OAAC;YAAI,WAAU;sBACX,cAAA,8OAAC;gBAAI,WAAU;;;;;;;;;;;IAG3B;IAEA,qBACI,8OAAC;QAAI,WAAU;;0BAEX,8OAAC,0JAAgB;gBACb,WAAW;gBACX,QAAQ;gBACR,mBAAmB;gBACnB,gBAAgB;;;;;;0BAIpB,8OAAC;gBAAI,WAAU;;kCAEX,8OAAC;wBAAI,WAAU;;0CACX,8OAAC,kJAAY;gCAAC,UAAU;gCAAU,MAAM;gCAAK,aAAa;;;;;;0CAC1D,8OAAC;gCAAI,WAAU;0CACX,cAAA,8OAAC,oIAAK;oCAAC,SAAS;;;;;;;;;;;;;;;;;kCAKxB,8OAAC;wBAAE,WAAU;kCAAqE;;;;;;oBAKjF,4BACG,8OAAC;wBAAI,WAAU;;0CACX,8OAAC;gCAAI,WAAU;gCAAU,MAAK;gCAAe,SAAQ;;kDACjD,8OAAC;wCAAK,GAAE;;;;;;kDACR,8OAAC;wCAAK,GAAE;;;;;;;;;;;;0CAEZ,8OAAC;0CAAK;;;;;;4BACL,uBACG,8OAAC,0JAAgB;gCACb,WAAW;gCACX,QAAQ;gCACR,mBAAmB;gCACnB,gBAAgB;;;;;;;;;;;;;;;;;;0BAQpC,8OAAC;gBAAI,WAAU;0BACX,cAAA,8OAAC,4IAAM;oBACH,SAAQ;oBACR,MAAK;oBACL,SAAS;oBACT,WAAU;8BACb;;;;;;;;;;;0BAML,8OAAC,4IAAS;gBACN,QAAQ;gBACR,SAAS,IAAM,iBAAiB;gBAChC,eAAe;gBACf,OAAO;;;;;;;;;;;;AAIvB"}}]
}